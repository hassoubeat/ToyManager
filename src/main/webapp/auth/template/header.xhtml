<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:jsf="http://xmlns.jcp.org/jsf">
    <body>
        <ui:composition>
            <div id="navbar" class="navbar navbar-default navbar-static-top">
                <div class="container">
                    <div class="header clearfix">
                        <nav class="navbar navbar-static-top">
                            <a class="navbar-brand" jsf:outcome="/auth/index">Toy Manager</a>
                            <ul class="nav nav-pills pull-right">
                            <li id="top" role="presentation"><a jsf:outcome="/login"><span class="glyphicon glyphicon-home" aria-hidden="true"></span> TOP</a></li>
                            <li id="event" role="presentation"><a jsf:outcome="/auth/event/index"><span class="glyphicon glyphicon-calendar" aria-hidden="true"></span> イベント</a></li>
                            <li id="toy" class="dropdown" role="presentation">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
                                    <span class="glyphicon glyphicon-wrench" aria-hidden="true"/> Toy
                                    <span class="caret"/>
                                </a> 
                                <ul class="dropdown-menu" role="menu">
                                    <li><a jsf:outcome="/auth/toy/create"><span class="glyphicon glyphicon-plus"/> Toyの新規登録</a></li>
                                    <li><a jsf:outcome="/auth/toy/status"><span class="glyphicon glyphicon-stats"/> Toyのステータス確認</a></li>
                                </ul>
                            </li>
                            <li id="user" class="dropdown" role="presentation">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
                                    <span class="glyphicon glyphicon-user" aria-hidden="true"/> ユーザ
                                    <span class="caret"/>
                                </a> 
                                <ul class="dropdown-menu" role="menu">
                                    <li><a jsf:outcome="/auth/user/index"><span class="glyphicon glyphicon-edit"/> ユーザ情報の編集</a></li>
                                    <li><a href="" data-toggle="modal" data-target="#logout-modal" ><span class="glyphicon glyphicon-log-out"/> ログアウト</a></li>
                                </ul>
                            </li>
                            <ui:fragment rendered="#{sessionBean.isManagerRole()}">
                                <li id="management" role="presentation"><a jsf:outcome="/auth/management/index"><span class="glyphicon glyphicon-cog" aria-hidden="true"></span> 管理機能</a></li>
                            </ui:fragment>
                          </ul>
                        </nav>
                    </div>
                </div>
            </div>
            <!-- ログアウト用モーダルダイアログ -->
            <div class="modal fade" id="logout-modal" tabindex="-1">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal"><span>×</span></button>
                            <h4 class="modal-title">ログアウトしますか？</h4>
                        </div>
                        <div class="modal-body">
                            <div class="bs-callout bs-callout-warning">
                                <h4>ログアウト後、ログイン画面へ遷移します。</h4>
                            </div>
                            <form jsf:id="logout-form">
                                <input class="btn btn-primary" type="submit" value="ログアウト" id="logout" jsf:action="#{accountBean.logout()}"/>
                            </form>
                        </div>                        
                    </div>
                </div>
            </div>
        </ui:composition>
    </body>
</html>
