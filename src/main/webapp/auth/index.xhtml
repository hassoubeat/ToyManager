<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <head jsf:id="head">
        <meta http-equiv="content-language" content="ja"/>
    </head>
    <body>
        <ui:composition template="/auth/template/template.xhtml">
            <ui:define name="content">
                <f:metadata>
                    <f:viewAction action="#{topBean.bookmarkable()}" onPostback="false"></f:viewAction>
                </f:metadata>
                <div class="row">
                    <div class="col-xs-3 toy-side-menu">
                        <ui:include src="/auth/template/toyMenu.xhtml"/>
                    </div>
                    <div class="col-xs-9">
                        <div class="bs-callout bs-callout-warning" id="toy-menu-select-alert">
                            <h4><span class="glyphicon glyphicon-alert"/> Toyを選択してください</h4>
                            <h4 class="small">下記メニューを利用するには、対象のToyを画面左のメニューから選択する必要があります。</h4>
                            <h4 class="small">Toyが存在しない場合は、新規登録を行って下さい。</h4>
                        </div>
                        <div class="bs-callout bs-callout-success hide" id="toy-menu-selected-item">
                            <h4>現在選択中のToyは<b>【ダンボーくん】</b>です。</h4>
                            <h4 class="small">下記メニューから行いたい処理を選択してください。</h4>
                        </div>
                        <div class="col-xs-6">
                            <a class="disabled" id="toy-menu-schedule" jsf:outcome="/login" style="text-decoration:none; color:#666">
                                <div class="panel toy-menu-schedule unselected" id="edit-schedule">
                                    <div class="panel-body">
                                        <h2><span class="glyphicon glyphicon-calendar"/> イベントの編集</h2>
                                        <h3 class="small">Toyに喋らせるイベントの登録/変更/削除などを行うことが出来ます。</h3>
                                        <label class="btn btn-primary">予定を編集する</label>
                                    </div>
                                </div>
                            </a>
                        </div>
                        <div class="col-xs-6">
                            <a class="disabled" id="toy-menu-faset" jsf:outcome="/auth/toy/facet" style="text-decoration:none; color:#666">

                                <div class="panel toy-menu-faset unselected" id="edit-schedule">
                                    <div class="panel-body">
                                        <h2><span class="glyphicon glyphicon-wrench"/> Toyのカスタマイズ</h2>
                                        <h3 class="small">Toyにファセット(追加機能)を追加したり、音声を選択することなどが出来ます。</h3>
                                        <label class="btn btn-primary">Toyをカスタマイズする</label>
                                    </div>
                                </div>
                            </a>
                        </div>
                        <div class="col-xs-6">
                            <a class="disabled" id="toy-menu-status" jsf:outcome="/auth/toy/status" style="text-decoration:none; color:#666">

                                <div class="panel toy-menu-status unselected" id="edit-schedule">
                                    <div class="panel-body">
                                        <h2><span class="glyphicon glyphicon-stats"/> Toyのステータス</h2>
                                        <h3 class="small">選択しているToyの情報を確認します。</h3>
                                        <label class="btn btn-primary">Toyのステータスを確認する</label>
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
            </ui:define>
            <ui:define name="css">
                <!-- jQueryUI CSS -->
                <link jsf:library="css" jsf:name="jquery-ui.css"/>
            </ui:define>
            <ui:define name="js">
                <!-- jQueryUI JS -->
                <script jsf:library="js" jsf:name="jquery-ui.js"/>
                <script type="text/javascript">
                    var selectedToy = "";
                    
                    $(window).load(function () {
                        // ナビゲーションバーのactiveを変更
                        $("#top").addClass("active");
                        
                        $("[id^=toy-item]").hover(
                            function(){
                                // マウスホバー時の処理(背景色の変更, 枠線の変更)
                               $(this).css("background-color","#d4d4d4");
                            },
                            function(){
                                // マウスブラー時の処理
                               $(this).css("background-color","");
                            }
                        );
                        
                        $("[id^=toy-item]").click(function(){
                            // 他の選択を初期化する
                            $("[id^=toy]").removeClass("toy-selected");
                            
                            // 選択した要素のclassに.toy-selectedを付与する
                            $(this).addClass("toy-selected");
                            
                            // toy-menuを有効化する
                            $("#toy-menu-select-alert").hide();
                            $("#toy-menu-selected-item").removeClass("hide");
                            $("[id^=toy-menu").removeClass("disabled");
                            $("[id^=toy-menu").children().removeClass("unselected");
                        });
                        
                        $("a").click(function(){
                            if ($(this).hasClass("disabled")) {
                                // aタグのdisabledが含まれる要素をクリックしても無効にする
                                return false;
                            }
                        });
                    });
                </script>
            </ui:define>
        </ui:composition>        
    </body>
</html>

